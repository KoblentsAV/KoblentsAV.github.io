<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
  </script>
  <script src="https://widget.cloudpayments.ru/bundles/cloudpayments" defer></script>
  <script src="https://widget.cloudpayments.ru/bundles/checkout"></script>
</head>

<body>

  <input type="checkbox" id="recurrent-sample-3">
  <div class="btn" id="payBtn">
    <p>Классический</p>
  </div>
  <div class="btn btn--mini" id="payBtn2">
    <p>Минимальный</p>
  </div>
  <div class="btn btn--modern" id="payBtn3">
    <p>Модерн</p>
  </div>
  <div class="btn btn--test" id="payBtn4">
    <p>ТЕСТ</p>
  </div>
  <div class="checkout-wrapper">
    <form class="checkout-cp" id="paymentFormSample" autocomplete="off">
      <input type="text" data-cp="cardNumber" placeholder="cardNumber">
      <input type="text" data-cp="expDateMonth" placeholder="expDateMonth">
      <input type="text" data-cp="expDateYear" placeholder="expDateYear">
      <input type="text" data-cp="cvv" placeholder="cvv">
      <input type="text" data-cp="name" placeholder="name">
      <button type="submit">Оплатить 100 р.</button>
    </form>
  </div>
  <script src="script.js"></script>
  <script>
  this.createCryptogram = function () {
    var result = checkout.createCryptogramPacket();

    if (result.success) {
        // сформирована криптограмма
        alert(result.packet);
    }
    else {
        // найдены ошибки в введённых данных, объект `result.messages` формата:
        // { name: "В имени держателя карты слишком много символов", cardNumber: "Неправильный номер карты" }
        // где `name`, `cardNumber` соответствуют значениям атрибутов `<input ... data-cp="cardNumber">`
       for (var msgName in result.messages) {
           alert(result.messages[msgName]);
       }
    }
};

$(function () {
    /* Создание checkout */
    checkout = new cp.Checkout(
    // public id из личного кабинета
    "test_api_00000000000000000000001",
    // тег, содержащий поля данных карты
    document.getElementById("paymentFormSample"));
});

  </script>
</body>
</html>
